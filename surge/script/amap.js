const url=$request.url;$response.body||$done({});let obj=JSON.parse($response.body);if(url.includes("/aos/perception/publicTravel/beforeNavi"))obj?.data?.common_data?.bus_plan_bottom_event?.data?.length>0&&(obj.data.common_data.bus_plan_bottom_event.data=[]),obj?.data?.common_data?.bus_plan_bottom_tips?.data?.length>0&&(obj.data.common_data.bus_plan_bottom_tips.data=[]),obj?.data?.common_data?.bus_plan_segment_event?.data?.length>0&&(obj.data.common_data.bus_plan_segment_event.data=[]),obj?.data?.front_end?.assistant?.length>0&&(obj.data.front_end.assistant=[]);else if(url.includes("/boss/car/order/content_info"))obj?.data?.lubanData?.popup?.dataList?.length>0&&(obj.data.lubanData.popup.dataList=[]),obj?.data?.lubanData?.skin?.dataList?.length>0&&(obj.data.lubanData.skin.dataList=[]),obj?.data?.matrixData?.c3DiversionCard?.dataList?.length>0&&(obj.data.matrixData.c3DiversionCard.dataList=[]),obj?.data?.matrixData?.DiversionCard?.dataList?.length>0&&(obj.data.matrixData.DiversionCard.dataList=[]);else if(url.includes("/boss/order_web/friendly_information")){const e=["banners","carouselTips","integratedBanners","integratedTips","skins","skinAndTips","tips"];if(obj?.data?.[105])for(let t of e)delete obj.data[105][t]}else if(url.includes("/bus/plan/integrate"))obj?.data?.banner_lists?.data?.length>0&&(obj.data.banner_lists.data=[]),obj?.data?.banner_lists?.tips?.length>0&&(obj.data.banner_lists.tips=[]),obj?.data?.mixed_plans?.data?.taxiPlans?.length>0&&(obj.data.mixed_plans.data.taxiPlans=[]);else if(url.includes("/c3frontend/af-hotel/page/main")){if(obj?.data?.modules&&(obj?.data?.modules?.CouponPortalCard&&delete obj.data.modules.CouponPortalCard,obj?.data?.modules?.CouponWidget&&delete obj.data.modules.CouponWidget,obj?.data?.modules?.recommended_list&&delete obj.data.modules.recommended_list,obj?.data?.modules?.user_filter_card)){const e=["banner","bannerList","service_data","sug_items_data"];if(obj?.data?.modules?.user_filter_card?.data){obj?.data?.modules?.user_filter_card?.data?.search_button_data?.rightbgText&&delete obj.data.modules.user_filter_card.data.search_button_data.rightbgText;for(let t of e)delete obj.data.modules.user_filter_card.data[t]}}}else if(url.includes("/c3frontend/af-launch/page/main"))obj?.data?.modules?.C1EndNaviEngine?.data&&(obj.data.modules.C1EndNaviEngine.data={});else if(url.includes("/c3frontend/af-nearby/nearby"))obj?.data?.modules?.banner&&(obj.data.modules.banner={}),obj?.data?.modules?.contentPoster&&(obj.data.modules.contentPoster={});else if(url.includes("/faas/amap-navigation/card-service-plan-home"))obj?.data?.children?.length>0&&(obj.data.children=obj.data.children.filter((e=>!e.hasOwnProperty("schema"))));else if(url.includes("/faas/amap-navigation/main-page"))obj?.data?.cardList?.length>0&&(obj.data.cardList=obj.data.cardList.filter((e=>"ContinueNavigationCard"===e?.dataKey||"FrequentLocation"===e?.dataKey||"LoginCard"===e?.dataKey))),obj?.data?.mapBizList?.length>0&&(obj.data.mapBizList=obj.data.mapBizList.filter((e=>"FindCarVirtualCard"===e?.dataKey)));else if(url.includes("/perception/drive/routeInfo"))obj?.data?.tbt?.event?.length>0&&(obj.data.tbt.event=obj.data.tbt.event.filter((e=>!/ads-\d+/.test(e?.dynamic_id_s)))),obj?.data?.front_end&&(obj?.data?.front_end?.assistant&&delete obj.data.front_end.assistant,obj?.data?.front_end?.guide_tips?.length>0&&(obj.data.front_end.guide_tips=obj.data.front_end.guide_tips.filter((e=>"music"!==e?.biz_type))),obj?.data?.front_end?.download?.length>0&&(obj.data.front_end.download=obj.data.front_end.download.filter((e=>!/ads-\d+/.test(e?.dynamic_id_s)))));else if(url.includes("/perception/drive/routePlan")){const e=["assistant","global_guide_data","route_search","start_button_tips"];if(obj?.data?.front_end)for(let t of e)delete obj.data.front_end[t];obj?.data?.tbt?.event?.length>0&&(obj.data.tbt.event=obj.data.tbt.event.filter((e=>!/ads-\d+/.test(e?.dynamic_id_s)))),obj?.data?.front_end?.download?.length>0&&(obj.data.front_end.download=obj.data.front_end.download.filter((e=>!/ads-\d+/.test(e?.dynamic_id_s))))}else if(url.includes("/promotion-web/resource")){const e=["alpha","banner","bravo","bubble","charlie","icon","other","popup","push","tips"];if(obj?.data)for(let t of e)delete obj.data[t]}else if(url.includes("/shield/dsp/profile/index/nodefaasv3"))obj?.data&&(obj?.data?.tipData&&delete obj.data.tipData,obj?.data?.memberInfo&&delete obj.data.memberInfo,obj?.data?.topMixedCard&&delete obj.data.topMixedCard,obj?.data?.cardList?.length>0&&(obj.data.cardList=obj.data.cardList.filter((e=>"MyOrderCard"===e?.dataKey))));else if(url.includes("/shield/frogserver/aocs/updatable/")){const e=["Naviendpage_Searchwords","SplashScreenControl","TipsTaxiButton","amapCoin","favorites_info","feedback_banner","footprint","his_input_tip","home_business_position_config","hotel_activity","hotel_fillin_opt","hotel_loop","hotel_tipsicon","hotsaleConfig","landing_page_info","map_weather_switch","maplayers","navi_end","nearby_business_popup","nearby_map_entry_guide","nearby_map_pull_down_guide","operation_layer","poi_rec","preword","route_banner","routeresult_banner","search_homepage","search_keyword","search_moni","search_perf","search_poi_recommend","search_service_adcode","search_word","sportsGroupConfig","sportsHealthConfig","sportsHomeConfig","sportsRouteConfig","sportsTaskConfig","sports_walk","small_biz_b2b_kb","small_biz_case","small_biz_fun","small_biz_index","small_biz_news","splashscreen","splashview_config","sur_bar","taxi_activity","testflight_adiu","tf_remind","tips_bar_black_list","vip"];if(obj?.data)for(let t of e)obj?.data?.[t]&&(obj.data[t]={status:1,version:"",value:""})}else if(url.includes("/shield/search/common/coupon/info"))obj?.data&&(obj.data={});else if(url.includes("/shield/search/nearbyrec_smart")){const e=["head","search_hot_words","feed_rec"];obj?.data?.modules?.length>0&&obj?.data?.modules?.length>0&&(obj.data.modules=obj.data.modules.filter((t=>e?.includes(t))))}else if(url.includes("/shield/search/poi/detail")){const e=["CouponBanner","adStoreBigBannerModule","adv_compliance_info","adv_gift","bigListBizRec","bottomDescription","brand_service","brand_shop_bar","checkIn","check_in","cityCardFeed","city_discount","claim","co_branded_card","collector_guide","commonAiAgent","common_coupon_bar","common_coupon_card","comprehensiveEditEntrance","contributor","cpt_service_shop","dayTripList","discount_commodity","divergentRecommendModule","enhanceCustomerServiceFixedBottom","enhanceCustomerServicePoiModule","everyOneToSee","feedback","first_surround_estate_tab","horizontalGoodsShelf","hospital_strategy","hotPlay","hot_new_house_estate","hot_shop","hotelCoupon","hotelList","hotelMustRead","houseList","houseOfficeBrandIntroduction","houseOfficeInfo","houseOfficeNotice","houseOfficeService","houseShelf","house_apart_info","house_buying_agent","house_coupon","house_cp_clues","house_cpt_coupon","house_cpt_grab","house_price","house_price_v2","house_rent_sale_agency","image_banner","kaMarketingCampaign","kaProductMixServiceShelf","ka_not_enter","legSameIndustryRecEntrance","legal_document","listBizRec_1","listBizRec_2","matrix_banner","merchantSettlement","membership","mini_hook_shelf","movie_info","multi_page_anchor","nearbyGoodCar","nearbyRecommendModule","nearby_house","nearby_new_house_estate","nearby_office_estate","nearby_old_sell_estate","nearby_play_rec","newGuest","newRelatedRecommends","new_operation_banner","newsellhouse","officerenthouse","officesellhouse","official_account","official_account_hospital","oldsellhouse","operation_banner","operator_card","packageShelf","parentBizRec","parentPoiRecEntrance","platformCustomerCommonModule","platformCustomerComplianceInfo","poiDetailBottomBarOperation","poiDetailCommonConfig","poiDetailNewBeltV2","poiDetailWaterFeed","poiDetailWaterFeedTitle","poster_banner","portal_entrance","quickLink","relatedRecommends","renthouse","rentSaleHouse","rentsaleagencyv2","rentsaleagencyv3","rentsalehouse","residentialOwners","reviews","sameIndustryRecommendModule","sameIndustry2RecommendModule","scenic_coupon","scenic_filter","scenic_lifeservices","scenic_mustplay","scenic_play_guide","scenic_recommend","scenic_voice","searchPlaMap","second_surround_estate_tab","service_shop","shopBaseCase","shopStructGift","shoppingMallEvent","similarShelfRecommend","similarShopRecommend","smallListBizRec","smallOrListBizRec","societyPublicExperience","subscription","surroundHouseTab","surroundOldSellHouse","surroundRentHouse","surround_facility","surround_facility_new","surround_house_tab","surround_oldsellhouse","surround_renthouse","surround_rentoffice","surround_selloffice","thirdparty_info","travelGuideRec","uploadBar","upload_bar","verification","waistRecEntrance","waterFallFeed","waterFallFeedTitle","yellowPageAdRecommendModule"];if(obj?.data?.modules)for(let t of e)delete obj.data.modules[t]}else if(url.includes("/shield/search_bff/hotword"))obj?.data?.headerHotWord?.length>0&&(obj.data.headerHotWord=[]);else if(url.includes("/shield/search_poi/search/sp")||url.includes("/shield/search_poi/mps")){if(obj?.data?.list_data){let e=obj.data.list_data.content[0];if(e?.hookInfo){let t=e.hookInfo.data;t?.header&&delete t.header,t?.house_info&&delete t.house_info}e?.map_bottom_bar?.hotel&&delete e.map_bottom_bar.hotel,e?.poi?.item_info?.tips_bottombar_button?.hotel&&delete e.poi.item_info.tips_bottombar_button.hotel,e?.tips_operation_info&&delete e.tips_operation_info,e?.bottom?.bottombar_button?.hotel&&delete e.bottom.bottombar_button.hotel,"SearchCardBrand"===e?.card?.card_id&&"brandAdCard"===e?.item_type&&delete e.card,"NearbyGroupBuy"===e?.card?.card_id&&"toplist"===e?.item_type&&delete e.card,"ImageBanner"===e?.card?.card_id&&"ImageBanner"===e?.item_type&&delete e.card}else if(obj?.data?.district?.poi_list){let e=obj.data.district.poi_list[0];e?.transportation&&delete e.transportation,e?.feed_rec_tab&&delete e.feed_rec_tab}else if(obj?.data?.modules){if(obj?.data?.modules?.not_parse_result?.data?.list_data){let e=obj.data.modules.not_parse_result.data.list_data.content[0];if(e?.hookInfo){let t=e.hookInfo.data;t?.header&&delete t.header,t?.house_info&&delete t.house_info}e?.map_bottom_bar?.hotel&&delete e.map_bottom_bar.hotel,e?.poi?.item_info?.tips_bottombar_button?.hotel&&delete e.poi.item_info.tips_bottombar_button.hotel,e?.tips_operation_info&&delete e.tips_operation_info,e?.bottom?.bottombar_button?.hotel&&delete e.bottom.bottombar_button.hotel}if(obj?.data?.modules?.list_data?.data){let e=obj.data.modules.list_data.data;e?.content?.length>0&&(e.content=e.content.filter((e=>!["brandAdCard","toplist_al"]?.includes(e?.item_type))))}}}else if(url.includes("/shield/search_poi/sug")){if(obj?.tip_list){let e=[];if(obj?.tip_list?.length>0){for(let t of obj.tip_list)["12"]?.includes(t?.tip?.datatype_spec)||["ad","poi_ad","toplist"]?.includes(t?.tip?.result_type)||["ad","exct_query_sug_merge_theme","query_sug_merge_theme","sp"]?.includes(t?.tip?.task_tag)||e.push(t);obj.tip_list=e}}else if(obj?.city_list){let e=[];if(obj?.city_list?.length>0){for(let t of obj.city_list){let a=[];if(t?.tip_list?.length>0){for(let e of t.tip_list)["12"]?.includes(e?.tip?.datatype_spec)||["ad","poi_ad"]?.includes(e?.tip?.result_type)||a.push(e);t.tip_list=a}e.push(t)}obj.city_list=e}}}else if(url.includes("/shield/search_poi/tips_operation_location")){obj?.data?.coupon&&delete obj.data.coupon;const e=["belt","common_float_bar","common_image_banner","coupon_discount_float_bar","coupon_float_bar","discount_coupon","image_cover_bar","mood_coupon_banner","operation_brand","promotion_wrap_card","tips_top_banner"];if(obj?.data?.modules)for(let t of e)delete obj.data.modules[t]}else if(url.includes("/valueadded/alimama/splash_screen")&&obj?.data?.ad?.length>0)for(let e of obj.data.ad)e.set.setting.display_time=0,e.creative[0].start_time=3818332800,e.creative[0].end_time=3818419199;$done({body:JSON.stringify(obj)});