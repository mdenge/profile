const url=$request.url;$response.body||$done({});let obj=JSON.parse($response.body);if(url.includes("/mtop.cainiao.guoguo.nbnetflow.ads.mshow")){if(obj?.data){const e=["10","498","328","366","369","615","616","727","793","954","1275","1308","1316","1332","1340","1391","1410","1428","1524","1525","1638","1910"];for(let t of e)obj.data?.[t]&&delete obj.data[t]}}else if(url.includes("/mtop.cainiao.guoguo.nbnetflow.ads.show")){if(obj?.data?.result?.length>0){obj.data.result=obj.data.result.filter((e=>!(e?.materialContentMapper?.adItemDetail||e?.materialContentMapper?.bgImg&&e?.materialContentMapper?.advRecGmtModifiedTime||["common_header_banner","entertainment","interests","kuaishou_banner"]?.includes(e?.materialContentMapper?.group_id)||["29338","29339","32103","33927","36649"]?.includes(e?.id))));for(let e of obj.data.result)e?.materialContentMapper?.show_tips_content&&(e.materialContentMapper.show_tips_content="")}}else if(url.includes("/mtop.cainiao.nbpresentation.pickup.empty.page.get")){if(obj?.data?.result){let e=obj.data.result.content;e?.middle?.length>0&&(e.middle=e.middle.filter((e=>!["guoguo_pickup_empty_page_relation_add","guoguo_pickup_helper_feedback","guoguo_pickup_helper_tip_view"]?.includes(e?.template?.name))))}}else if(url.includes("/mtop.cainiao.nbpresentation.protocol.homepage.get")){if(obj?.data?.result?.dataList?.length>0){let e=[];for(let t of obj.data.result.dataList){if(t?.type?.includes("kingkong")){if(t?.bizData?.items?.length>0)for(let e of t.bizData.items)e.rightIcon=null,e.bubbleText=null}else if(t?.type?.includes("icons_scroll")){if(t?.bizData?.items?.length>0){let e=[];for(let a of t.bizData.items){["618cjhb","bgxq","cncy","cngy","cngreen","cnhs","dtxb","gjjf","jkymd","ljjq","ttlhb","xybg"]?.includes(a?.key)||e.push(a)}t.bizData.items=e;for(let e of t.bizData.items)e.rightIcon=null,e.bubbleText=null}}else{if(t?.type?.includes("banner_area"))continue;if(t?.type?.includes("promotion"))continue}e.push(t)}obj.data.result.dataList=e}}else if(url.includes("/mtop.nbfriend.message.conversation.list"))obj?.data?.data?.length>0&&(obj.data.data=obj.data.data.filter((e=>e?.conversationId?.includes("logistic_message"))));else if(url.includes("/mtop.cainiao.app.mine.main")&&obj?.data){const e=["activity","asset","banner","content"];for(let t of e)obj.data?.[t]&&delete obj.data[t]}$done({body:JSON.stringify(obj)});