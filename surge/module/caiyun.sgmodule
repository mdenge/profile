#!name=Caiyun
#!desc=Caiyun ads block
#!category=iOS
#!system=ios
#!updatetime=2025-10-14
#!source=https://raw.githubusercontent.com/ddgksf2013/Rewrite/master/AdBlock/CaiYunAds.conf
#!version=2025-05-13 15:17:08
#
[Rule]
DOMAIN,abyss.cyapi.cn,REJECT,pre-matching,extended-matching
DOMAIN,gather.colorfulclouds.net,REJECT,pre-matching,extended-matching
#
[Map Local] 
^https?:\/\/ad\.cyapi\.cn\/v\d url data-type=text data="" status-code=200
#
[Script]
caiyun_01 = type=http-response,pattern="^https?:\/\/wrapper\.cyapi\.cn\/v\d\/activity",requires-body=true,script-path=https://raw.githubusercontent.com/mdenge/profile/master/surge/script/caiyun.js
caiyun_02 = type=http-response,pattern="^https?:\/\/api\.caiyunapp\.com\/v\d\/activity",requires-body=true,script-path=https://raw.githubusercontent.com/mdenge/profile/master/surge/script/caiyun.js
caiyun_03 = type=http-response,pattern="^https?:\/\/starplucker\.cyapi\.cn\/v\d/operation/homefeatures",requires-body=true,script-path=https://raw.githubusercontent.com/mdenge/profile/master/surge/script/caiyun.js
caiyun_04 = type=http-response,pattern="^https?:\/\/starplucker\.cyapi\.cn\/v\d/notification/message_center",requires-body=true,script-path=https://raw.githubusercontent.com/mdenge/profile/master/surge/script/caiyun.js
caiyun_05 = type=http-response,pattern="^https?:\/\/starplucker\.cyapi\.cn\/v\d/config/cypage",requires-body=true,script-path=https://raw.githubusercontent.com/mdenge/profile/master/surge/script/caiyun.js
caiyun_06 = type=http-response,pattern="^https?:\/\/starplucker\.cyapi\.cn\/v\d/operation/feeds",requires-body=true,script-path=https://raw.githubusercontent.com/mdenge/profile/master/surge/script/caiyun.js
caiyun_07 = type=http-response,pattern="^https?:\/\/starplucker\.cyapi\.cn\/v\d/operation/banners",requires-body=true,script-path=https://raw.githubusercontent.com/mdenge/profile/master/surge/script/caiyun.js
caiyun_08 = type=http-response,pattern="^https?:\/\/starplucker\.cyapi\.cn\/v\d/operation/features",requires-body=true,script-path=https://raw.githubusercontent.com/mdenge/profile/master/surge/script/caiyun.js
caiyun_09 = type=http-response,pattern="^https?:\/\/starplucker\.cyapi\.cn\/v\d/campaigns",requires-body=true,script-path=https://raw.githubusercontent.com/mdenge/profile/master/surge/script/caiyun.js
#
[MITM]
hostname = %APPEND% wrapper.cyapi.cn, api.caiyunapp.com, starplucker.cyapi.cn, ad.cyapi.cn